<!DOCTYPE html>
<html lang="fr">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Comment ajouter une pagination à votre site Jekyll | crowd42's blog</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="/css/bootstrap-3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/main.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file// -->
    <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->

    


    <link rel="shortcut icon" href="/images/favicon.ico">

    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="feed/"> 

</head>


    <body>
      <div class="container">

        <header class="row">
  <div class="col-lg-8 col-lg-offset-2">
    <h1 class="">crowd42's blog</h1>
    <p>
    <span class="reserved">char</span> nick[<span class="number">7</span>] = <span class="string">"crowd42"</span>;
    </p>
    <p>
    printf(<a href="https://github.com/crowd42" target="_blank"><span class="string">"https://github.com/<span class="reserved">%s\n</span>"</span></a>,nick);
    </p>

    <p>
    printf(<a href="https://mastodon.social/crowd42"
      target="_blank"><span class="string">"https://mastodon.social/<span class="reserved">%s\n</span>"</span></a>,nick);
    </p>

    <p>
    printf(<a href="https://keybase.io/crowd42"
      target="_blank"><span class="string">"https://keybase.io/<span class="reserved">%s\n</span>"</span></a>,nick);
    </p>


     <p>
    printf(<a href="https://twitter.com/crowd42"
      target="_blank"><span class="string">"https://twitter.com/<span class="reserved">%s\n</span>"</span></a>,nick);
    </p>

    <p>
    printf(<span class="string">"<span class="reserved">%s\x40</span>riseup<span class="reserved">\x2e\\\b</span>net<span class="reserved">\n</span>"</span>,nick);
    </p>
    <!-- <p>
            printf(<a href="https://crowd42.github.io" target="_blank"><span class="string">"https://<span class="reserved">%s</span>.github.io<span class="reserved">\n</span>"</span></a>,nick);
        </p> -->
    <p>
    puts(<a href="misc/pubkey.gpg.txt" target="_blank"><span
        class="string">"0xdc 5a6d b445 976d 60"</span></a>);
    </p>
  </div>
</header>

<div class="row">
  <div class="col-lg-8 col-lg-offset-2">
    <div class="menu">
      <ul>
          <li><a href="/">home</a></li>
          <li><a href="/blog/">blog</a></li>
          <li> <a href="/astuces/">astuces</a></li>
          <li><a href="/books/">books</a></li>
          <li><a href="/casts">*casts</a></li>
          <li><a href="/movies">movies</a></li>
          <li><a href="/talks">talks</a></li>
          <li><a href="/zines">*zines</a></li>
          <li><a href="/ressources">ressources</a></li>
          <li><a href="/feed">feed</a></li>
          <li><a href="https://liberapay.com/~29921/donate">donate</a></li>
      </ul>
    </div>
  </div>
</div>



        <div class="row">
          <div class="col-lg-8 col-lg-offset-2">
            <main>
            <div class="post">

  <header class="post-header">
    <h1>Comment ajouter une pagination à votre site Jekyll</h1>
  </header>

  <article class="post-content">
  <div class="post">

  <header class="post-header">
    <p class="meta">
        Nov 11, 2017
        
        
        •
        <span><a href="/category/#Jekyll" class="reserved">Jekyll</a>,</span><span><a href="/category/#pagination" class="reserved">pagination</a>,</span><span><a href="/category/#liquid" class="reserved">liquid</a>,</span><span><a href="/category/#astuce" class="reserved">astuce</a></span>
    </p>
  </header>

  <article class="post-content">
  <p>Comme des millions de gens, j’avais utilisé Wordpress pendant des années pour publier mon blog et tant que j’avais du temps à lui consacrer, tout aller bien. Cependant dès que l’IRL me forçait à rester des déconnecter pendant plus d’une semaine, je commençais à flipper et à se demander si y avait pas une nouvelle faille a été découverte dans un plugin pendant mon absence, et que mon site s’est fait pown par un script kiddie, bien que j’avais automatisé pas mal de chose (dont les mises à jours) pour prévenir ça. D’ailleurs, c’est une des principales raisons qui m’ont poussé à abandonner mon ancien blog <a href="https://web.archive.org/web/*/www.crowd42.info">crowd42.info [0]</a> dès que j’ai senti ça devenait ingérable avec l’emploi de temps de mon ancien boulot.</p>

<p>Puis il y a quelques mois j’ai découvert <a href="https://jekyllrb.com/">Jekyll [1]</a>, je ne vous dis pas combien j’ai regretté de ne pas l’avoir fait plus tôt. Après avoir passé deux heures à piocher sa documentation et quelques tutoriels en ligne et j’avais déjà un site/blog qui tourne parfaitement en locale sur ma machine. La suite vous l’avez sous les yeux :-), un blog statique, plus de soucis à se faire quant à sa sécurité, des performances bien supérieures Wordpress.</p>

<p>Quelques mois plus tard, quand le nombre d’articles affiché dans la partie blog du site devenait important. J’ai cherché dans la documentation officielle s’il était possible d’implémenter la pagination (je n’y avais pas pensé au départ quand j’ai mis en place le site), quelques étaient suffisantes pour trouver la solution. Tout ce que j’avais à faire c’est :</p>
<ul>
  <li>Déplacer le fichier <code class="language-plaintext highlighter-rouge">blog.md</code> dans un répertoire <code class="language-plaintext highlighter-rouge">blog</code> que j’ai créé et de le renommer <code class="language-plaintext highlighter-rouge">index.html</code>;</li>
  <li>Modifier <code class="language-plaintext highlighter-rouge">blog/index.html</code> pour qu’il ressemble à ceci :</li>
</ul>

<figure class="highlight"><pre><code class="language-jinja" data-lang="jinja"> <span class="cp">{%</span> <span class="k">for</span> <span class="nv">post</span> <span class="ow">in</span> <span class="nv">paginator.posts</span> <span class="cp">%}</span>
  <span class="nt">&lt;li&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"post-date"</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">post.date</span> <span class="o">| </span><span class="nf">date</span><span class="err">:</span> <span class="s2">"%b %d, %Y"</span> <span class="cp">}}</span><span class="nt">&lt;/span&gt;</span>
      ::
      <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"post-link"</span> <span class="na">href=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">post.url</span> <span class="cp">}}</span><span class="s">"</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">post.title</span> <span class="cp">}}</span><span class="nt">&lt;/a&gt;</span>
      @ {
      <span class="cp">{%</span> <span class="nv">assign</span> <span class="nv">tag</span> <span class="o">=</span> <span class="nv">post.tags</span> <span class="o">| </span><span class="nf">sort</span> <span class="cp">%}</span>
      <span class="cp">{%</span> <span class="k">for</span> <span class="nv">category</span> <span class="ow">in</span> <span class="nv">tag</span> <span class="cp">%}</span><span class="nt">&lt;span&gt;&lt;a</span> <span class="na">href=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">site.baseurl</span> <span class="cp">}}</span><span class="s">/category/#</span><span class="cp">{{</span> <span class="nv">category</span> <span class="cp">}}</span><span class="s">"</span> <span class="na">class=</span><span class="s">"reserved"</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">category</span> <span class="cp">}}</span><span class="nt">&lt;/a&gt;</span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">forloop.last</span> <span class="o">!=</span> <span class="kp">true</span> <span class="cp">%}</span>,<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="nt">&lt;/span&gt;</span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
      <span class="cp">{%</span> <span class="nv">assign</span> <span class="nv">tag</span> <span class="o">=</span> <span class="nv">nil</span> <span class="cp">%}</span>
      }
  <span class="nt">&lt;/li&gt;</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
!-- Pagination links --&gt;
  <span class="cp">{%</span> <span class="k">if</span> <span class="nv">paginator.previous_page</span> <span class="cp">%}</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">paginator.previous_page_path</span> <span class="cp">}}</span><span class="s">"</span> <span class="na">class=</span><span class="s">"previous"</span><span class="nt">&gt;</span>Page précédente<span class="nt">&lt;/a&gt;</span>
  <span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"previous"</span><span class="nt">&gt;</span>Page précédente<span class="nt">&lt;/span&gt;</span>
  <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"page_number "</span><span class="nt">&gt;</span>Page: <span class="cp">{{</span> <span class="nv">paginator.page</span> <span class="cp">}}</span> sur <span class="cp">{{</span> <span class="nv">paginator.total_pages</span> <span class="cp">}}</span><span class="nt">&lt;/span&gt;</span>
  <span class="cp">{%</span> <span class="k">if</span> <span class="nv">paginator.next_page</span> <span class="cp">%}</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">paginator.next_page_path</span> <span class="cp">}}</span><span class="s">"</span> <span class="na">class=</span><span class="s">"next"</span><span class="nt">&gt;</span>Page suivante<span class="nt">&lt;/a&gt;</span>
  <span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"next "</span><span class="nt">&gt;</span>Page suivante<span class="nt">&lt;/span&gt;</span>
    <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
    </code></pre></figure>

<ul>
  <li>
    <p>Ajouter les deux lignes suivantes dans le fichier _config.yml</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  paginate: 20
  paginate_path: "/blog/page:num/"
</code></pre></div>    </div>

    <ul>
      <li>Pour que ça fonctionne en local, on doit ajouter le plugin jekyll-paginate dans notre fichier Gemfile et de lancer <code class="language-plaintext highlighter-rouge">bundle install</code>.</li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  gem 'jekyll-paginate'
</code></pre></div>    </div>
  </li>
</ul>

<p>Quelques explications le premier bloc du code ci-dessus (celui entre for post in paginator.post et endof) est une boucle for qui va afficher TOUT les articles de notre site, toute catégorie confondue (par exemple sur le mien : blog, movies, trucs et astuces, books…). C’est un des défauts de jekyll-paginotor, il ne permet pas d’exécuter une boucle sur certaines catégories seulement, par exemple <code class="language-plaintext highlighter-rouge">for post in site.catégories.blog</code>.</p>

<p>Le deuxième bloc quant à lui permet d’afficher une barre pour naviguer entre les pages:
    ~~~
    Page précédente Page: 1 sur 2 Page suivante
    ~~~</p>

<p>Et voila , facile non ? :-)</p>

<p>P.S : Il existe un plugin qui supporte la pagination sur les catégries, malheureusement il n’est pas supporté par Github, donc à moins que vous ne faites tourner jekyll sur votre serveur perso vous pouvez l’oublier.</p>

<h3 id="liens">Liens</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[0]: https://web.archive.org/web/*/www.crowd42.info
[1]: https://jekyllrb.com/
</code></pre></div></div>

  </article>
   

    
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    

    
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    

    
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    

    
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    

    
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    

    
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    

    
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    

    
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    

    
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    

    
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
    



	<p class="feed-recomendation">
		Si vous avez aimé ce billet, vous pouvez vous inscrire au <a href="feed/">flux RSS</a> !
	</p>

  <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'crowd42s-blog-1';
    var disqus_config = function () {
        this.page.identifier = "/blog/astuce/ajouter-pagination-jekyll/";
    };
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>




</div>

  </article>

</div>

            </main>
          </div>
        </div>

        <div class="row">
  <div class="col-lg-8 col-lg-offset-2">
    <footer>
      Propulsé fièrement par Jekyll!
    </footer>
  </div>
</div>


      </div>
    </body>
</html>
